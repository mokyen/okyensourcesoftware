
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
        <link rel="canonical" href="https://www.okyensourcesoftware.com/blog/archive/2024/">
      
      
      
      
        <link rel="alternate" type="application/rss+xml" title="RSS feed" href="../../../feed_rss_created.xml">
        <link rel="alternate" type="application/rss+xml" title="RSS feed of updated content" href="../../../feed_rss_updated.xml">
      
      <link rel="icon" href="../../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.5.49">
    
    
      
        <title>2024 - Okyen Source Software</title>
      
    
    
      <link rel="stylesheet" href="../../../assets/stylesheets/main.6f8fc17f.min.css">
      
        
        <link rel="stylesheet" href="../../../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL("../../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="teal" data-md-color-accent="purple">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#2024" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../../.." title="Okyen Source Software" class="md-header__button md-logo" aria-label="Okyen Source Software" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Okyen Source Software
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              2024
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="default" data-md-color-primary="teal" data-md-color-accent="purple"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M17 6H7c-3.31 0-6 2.69-6 6s2.69 6 6 6h10c3.31 0 6-2.69 6-6s-2.69-6-6-6m0 10H7c-2.21 0-4-1.79-4-4s1.79-4 4-4h10c2.21 0 4 1.79 4 4s-1.79 4-4 4M7 9c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="slate" data-md-color-primary="teal" data-md-color-accent="lime"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M17 7H7a5 5 0 0 0-5 5 5 5 0 0 0 5 5h10a5 5 0 0 0 5-5 5 5 0 0 0-5-5m0 8a3 3 0 0 1-3-3 3 3 0 0 1 3-3 3 3 0 0 1 3 3 3 3 0 0 1-3 3"/></svg>
      </label>
    
  
</form>
      
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
        <div class="md-search__suggest" data-md-component="search-suggest"></div>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
            
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  
  
    <li class="md-tabs__item">
      <a href="../../.." class="md-tabs__link">
        
  
    
  
  Home

      </a>
    </li>
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../../about/" class="md-tabs__link">
          
  
  About

        </a>
      </li>
    
  

      
        
  
  
  
    <li class="md-tabs__item">
      <a href="../../_index/" class="md-tabs__link">
        
  
    
  
  Blog

      </a>
    </li>
  

      
    </ul>
  </div>
</nav>
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  


  

<nav class="md-nav md-nav--primary md-nav--lifted md-nav--integrated" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../../.." title="Okyen Source Software" class="md-nav__button md-logo" aria-label="Okyen Source Software" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    Okyen Source Software
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../.." class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Home
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" >
        
          
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    About
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            About
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../about/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    About the Blog
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../bio/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    About Michael
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../_index/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Blog
  </span>
  

      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
          
          
  <div class="md-content" data-md-component="content">
    <div class="md-content__inner">
      <header class="md-typeset">
        <h1 id="2024">2024</h1>
      </header>
      
        <article class="md-post md-post--excerpt">
  <header class="md-post__header">
    
    <div class="md-post__meta md-meta">
      <ul class="md-meta__list">
        <li class="md-meta__item">
          <time datetime="2024-09-18 00:00:00+00:00">September 18, 2024</time></li>
        
          <li class="md-meta__item">
            in
            
              <a href="../../category/blog/" class="md-meta__link">Blog</a></li>
        
        
          
          <li class="md-meta__item">
            
              7 min read
            
          </li>
        
      </ul>
      
    </div>
  </header>
  <div class="md-post__content md-typeset">
    <h2 id="using-gtest-with-cmake-in-godbolt"><a class="toclink" href="../../using-gtest-with-cmake-in-godbolt/">Using Gtest with CMake in Godbolt</a></h2>
<h3 id="tldr"><a class="toclink" href="../../using-gtest-with-cmake-in-godbolt/#tldr">TL;DR</a></h3>
<p>Learn how to set up Google Test (Gtest) with CMake in Compiler Explorer (Godbolt) for efficient C++ unit testing in a multi-file project environment. This approach streamlines the development process, especially for personal projects or when you need a quick, sharable testing setup.</p>
<h3 id="introduction"><a class="toclink" href="../../using-gtest-with-cmake-in-godbolt/#introduction">Introduction</a></h3>
<p>Compiler Explorer (CE), also known as godbolt.org, has been a game-changer for many software engineers, myself included. Over the past four years, it has significantly impacted my development process. This tool's influence extends beyond individual developers; even tech giants like Google incorporate CE <a href="https://www.youtube.com/watch?v=torqlZnu9Ag">into their official processes</a>. The C++ community (and many others) owes a debt of gratitude to <a href="https://xania.org/">Matt Godbolt</a> for creating this invaluable resource.</p>
<p>One of CE's most powerful applications is in learning how to perform Test Driven Development (TDD). Previously, setting up a TDD environment could take hours. With CE and some guidance from <a href="https://blog.feabhas.com/2020/08/tdd-with-compiler-explorer/">Niall Cooling's blog</a>, I was able to start unit testing in under two minutes. This accessibility extends to various devices, from desktops to tablets, and even smartphones (though mobile usage has its limitations).</p>
<p>While CE's Gtest integration works seamlessly for single-file projects, things get more complex when you need to separate source code and unit tests. This blog post will guide you through setting up Gtest with CMake in Compiler Explorer for multi-file projects, sharing insights from my experience and offering solutions to common challenges.</p>
<h3 id="why-this-matters"><a class="toclink" href="../../using-gtest-with-cmake-in-godbolt/#why-this-matters">Why This Matters</a></h3>
<p>As your projects grow, separating source code and unit tests becomes crucial for maintainability. This division becomes required if you're creating a library that you want to be usable by others. However, this separation often introduces complexity, especially when working with online tools like Compiler Explorer. By mautilizing  the setup of Gtest with CMake in CE, you can:</p>
<ol>
<li>Quickly prototype and test complex, multi-file C++ projects</li>
<li>Share your work easily with colleagues or the community</li>
<li>Maintain a clean, organized codebase even in an online environment</li>
<li>Leverage the power of TDD without the overhead of local environment setup</li>
</ol>
<p>Let's dive into how we can achieve this and overcome some common hurdles along the way.</p>
<h3 id="my-use-case"><a class="toclink" href="../../using-gtest-with-cmake-in-godbolt/#my-use-case">My Use Case</a></h3>
<h4 id="the-birth-of-gtest_ct"><a class="toclink" href="../../using-gtest-with-cmake-in-godbolt/#the-birth-of-gtest_ct">The Birth of gtest_ct</a></h4>
<p>After attending an enlightening talk at C++Now 2024 by Braden Ganetsky on <a href="https://schedule.cppnow.org/session/2024/unit-testing-an-expression-template-library-in-cpp20/">"Unit testing an expression template library in C++20,"</a> I was inspired to create a tiny compile-time wrapper library for Gtest. I aptly named it <a href="https://github.com/mokyen/gtest_ct">gtest_ct</a>. (Stay tuned for a dedicated blog post on this library once I finalize version 1.0!)</p>
<h4 id="development-in-compiler-explorer"><a class="toclink" href="../../using-gtest-with-cmake-in-godbolt/#development-in-compiler-explorer">Development in Compiler Explorer</a></h4>
<p>Compiler Explorer (CE) proved invaluable during the initial development of gtest_ct:</p>
<ol>
<li><strong>Rapid Prototyping</strong>: I quickly wrote and tested interesting code snippets.</li>
<li><strong>Immediate Feedback</strong>: The library's functionality was verified using Gtest itself.</li>
<li><strong>Iteration Speed</strong>: The development cycle was significantly faster than setting up a local environment.</li>
</ol>
<h4 id="the-single-file-limitation"><a class="toclink" href="../../using-gtest-with-cmake-in-godbolt/#the-single-file-limitation">The Single-File Limitation</a></h4>
<p>As the library grew, I hit a roadblock: with tests and source in the same file, I couldn't use gtest_ct outside of its own development. This limitation sparked my search for a multi-file solution in CE.</p>
<h4 id="the-sudoku-solver-project"><a class="toclink" href="../../using-gtest-with-cmake-in-godbolt/#the-sudoku-solver-project">The Sudoku Solver Project</a></h4>
<p>The need for a multi-file setup became even more apparent when I started a professional development project to design and implement a sudoku solver. This project demanded:</p>
<ol>
<li><strong>Modular Design</strong>: Breaking the code into different files, mirroring a real-world project structure.</li>
<li><strong>Separation of Concerns</strong>: Keeping source code and unit tests in separate files.</li>
<li><strong>Scalability</strong>: Allowing for easy addition of new components and tests.</li>
</ol>
<h4 id="the-cmake-solution"><a class="toclink" href="../../using-gtest-with-cmake-in-godbolt/#the-cmake-solution">The CMake Solution</a></h4>
<p>While CE has supported multiple files using CMake for years, incorporating Gtest isn't straightforward due to the interworkings of CD and compilation time limits. This challenge led me to develop the solution I'm sharing in this blog post.</p>
<p>In the following sections, we'll dive into how to set up Gtest with CMake in Compiler Explorer, overcoming these limitations and enabling more complex, real-world project structures.</p>
<h3 id="setting-up-gtest-with-cmake-in-compiler-explorer"><a class="toclink" href="../../using-gtest-with-cmake-in-godbolt/#setting-up-gtest-with-cmake-in-compiler-explorer">Setting Up Gtest with CMake in Compiler Explorer</a></h3>
<h4 id="the-starter-example"><a class="toclink" href="../../using-gtest-with-cmake-in-godbolt/#the-starter-example">The Starter Example</a></h4>
<p>To get you up and running quickly, I've prepared a <a href="https://godbolt.org/z/6vo5Kdco9">starter example project</a>. This example demonstrates the key components needed to use Gtest with CMake in Compiler Explorer. A big 'thank you' to RF and French Joe for figuring this out initially!</p>
<h4 id="key-components-of-the-setup"><a class="toclink" href="../../using-gtest-with-cmake-in-godbolt/#key-components-of-the-setup">Key Components of the Setup</a></h4>
<p>Let's break down the essential elements that make this setup work:</p>
<ol>
<li><strong>Configuring CE to Include Gtest</strong></li>
<li>Select Gtest from the library drop-down menu in CE.</li>
<li>
<p>Be aware that multiple versions may be listed, which can create challenges (more on this in the "Gotchas" section).</p>
</li>
<li>
<p><strong>Including the Correct Libraries</strong></p>
</li>
</ol>
<div class="highlight"><pre><span></span><code><a id="__codelineno-3-1" name="__codelineno-3-1" href="#__codelineno-3-1"></a><span class="nb">target_link_libraries</span><span class="p">(</span><span class="s">the_executable</span><span class="w"> </span><span class="s">PRIVATE</span><span class="w"> </span><span class="s">gtest</span><span class="w"> </span><span class="s">gmock</span><span class="w"> </span><span class="s">gtest_main</span><span class="p">)</span>
</code></pre></div>
<ul>
<li>Include <code>gtest</code>, <code>gmock</code>, and <code>gtest_main</code> to ensure full Gtest functionality.</li>
<li>
<p><code>gtest_main</code> eliminates the need for a boilerplate main() function.</p>
</li>
<li>
<p><strong>Setting the CMake Version</strong></p>
</li>
</ul>
<div class="highlight"><pre><span></span><code><a id="__codelineno-4-1" name="__codelineno-4-1" href="#__codelineno-4-1"></a><span class="nb">cmake_minimum_required</span><span class="p">(</span><span class="s">VERSION</span><span class="w"> </span><span class="s">3.5</span><span class="p">)</span>
</code></pre></div>
<ul>
<li>The CMake version is a crucial configuration variable.</li>
<li>
<p>Version 3.5 works well in most cases, but you may need to adjust based on your specific needs or CE's current setup.</p>
</li>
<li>
<p><strong>Project Structure</strong></p>
</li>
<li><code>CMakeLists.txt</code>: Main CMake configuration file</li>
<li><code>source.cpp</code>: A source file</li>
<li><code>test_source.cpp</code>: Test file (which can be named anything)</li>
<li>Additional <code>.cpp</code> and <code>.h</code> files as needed</li>
</ul>
<p>This structure allows for a clear separation of concerns while remaining manageable within CE's interface.</p>
<h4 id="example-cmakeliststxt"><a class="toclink" href="../../using-gtest-with-cmake-in-godbolt/#example-cmakeliststxt">Example CMakeLists.txt</a></h4>
<p>Here's a basic <code>CMakeLists.txt</code> file that ties everything together:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-5-1" name="__codelineno-5-1" href="#__codelineno-5-1"></a><span class="nb">cmake_minimum_required</span><span class="p">(</span><span class="s">VERSION</span><span class="w"> </span><span class="s">3.5</span><span class="p">)</span>
<a id="__codelineno-5-2" name="__codelineno-5-2" href="#__codelineno-5-2"></a>
<a id="__codelineno-5-3" name="__codelineno-5-3" href="#__codelineno-5-3"></a><span class="nb">project</span><span class="p">(</span><span class="s">MyProject</span><span class="p">)</span>
<a id="__codelineno-5-4" name="__codelineno-5-4" href="#__codelineno-5-4"></a>
<a id="__codelineno-5-5" name="__codelineno-5-5" href="#__codelineno-5-5"></a><span class="nb">add_executable</span><span class="p">(</span><span class="s">the_executable</span>
<a id="__codelineno-5-6" name="__codelineno-5-6" href="#__codelineno-5-6"></a><span class="w">    </span><span class="s">source.cpp</span>
<a id="__codelineno-5-7" name="__codelineno-5-7" href="#__codelineno-5-7"></a><span class="w">    </span><span class="s">test_source.cpp</span><span class="p">)</span>
<a id="__codelineno-5-8" name="__codelineno-5-8" href="#__codelineno-5-8"></a>
<a id="__codelineno-5-9" name="__codelineno-5-9" href="#__codelineno-5-9"></a><span class="nb">target_link_libraries</span><span class="p">(</span><span class="s">the_executable</span><span class="w"> </span><span class="s">PRIVATE</span><span class="w"> </span><span class="s">gtest</span><span class="w"> </span><span class="s">gmock</span><span class="w"> </span><span class="s">gmock_main</span><span class="p">)</span>
</code></pre></div>
<p>This configuration sets up a basic project with Gtest support, compiling both your main code and tests into a single executable.</p>
<p>By following this setup, you'll have a solid foundation for using Gtest with CMake in Compiler Explorer, enabling more complex, multi-file projects.</p>
<h3 id="the-biggest-gotcha-to-avoid"><a class="toclink" href="../../using-gtest-with-cmake-in-godbolt/#the-biggest-gotcha-to-avoid">The Biggest Gotcha to Avoid</a></h3>
<p>While setting up Gtest with CMake in Compiler Explorer is generally straightforward, there's one major pitfall that can cause frustration: version incompatibilities.</p>
<h4 id="understanding-the-issue"><a class="toclink" href="../../using-gtest-with-cmake-in-godbolt/#understanding-the-issue">Understanding the Issue</a></h4>
<p>Among Compiler Explorer's greatest strengths lies is its support for numerous compilers and libraries. However, this variety can lead to compatibility issues:</p>
<ol>
<li><strong>Pre-built Libraries</strong>: CE uses pre-built versions of libraries like Gtest, installed using Conan.</li>
<li><strong>Location of Libraries</strong>: These pre-built Gtest libraries are typically located at <code>/app/googletest/lib/libgtest_maind.a</code>. This library must be linked to the binary via CmakeLists.txt.</li>
<li><strong>Version Mismatches</strong>: Not every Gtest library revision is pre-built for every compiler version in CE.</li>
</ol>
<h4 id="symptoms-of-version-incompatibility"><a class="toclink" href="../../using-gtest-with-cmake-in-godbolt/#symptoms-of-version-incompatibility">Symptoms of Version Incompatibility</a></h4>
<p>If you encounter build failures that seem unrelated to your code, it might be due to this version mismatch. Common symptoms include:</p>
<ul>
<li>Unexpected linker errors</li>
<li>Missing symbol errors</li>
<li>Compilation failures with cryptic messages</li>
</ul>
<h4 id="how-to-avoid-the-gotcha"><a class="toclink" href="../../using-gtest-with-cmake-in-godbolt/#how-to-avoid-the-gotcha">How to Avoid the Gotcha</a></h4>
<p>To navigate around this issue, follow these steps:</p>
<ol>
<li><strong>Try Different Compiler Versions</strong>:</li>
<li>If your project fails to build, experiment with different versions of your chosen compiler.</li>
<li>
<p>Sometimes, switching to an older or newer compiler version can resolve the issue.</p>
</li>
<li>
<p><strong>Adjust CMake Version</strong>:</p>
</li>
<li>The CMake version is another 'adjustment knob' in the configuration.</li>
<li>
<p>Try different CMake versions to find one compatible with your chosen Gtest and compiler versions.</p>
</li>
<li>
<p><strong>Check Gtest Version</strong>:</p>
</li>
<li>In the CE interface, verify which version of Gtest is being used.</li>
<li>
<p>If possible, try different Gtest versions to find one that works with your setup.</p>
</li>
<li>
<p><strong>Check C++ Version</strong>:</p>
</li>
<li>
<p>In the CE command line arguments textbox, enter the update the version (e.g. <code>-std=C++17</code>)</p>
</li>
<li>
<p><strong>Simplify and Iterate</strong>:</p>
</li>
<li>Start with a minimal working example and gradually add complexity.</li>
<li>This approach helps isolate where compatibility issues might be occurring.</li>
</ol>
<h4 id="example-workflow"><a class="toclink" href="../../using-gtest-with-cmake-in-godbolt/#example-workflow">Example Workflow</a></h4>
<p>Here's a step-by-step process to troubleshoot version incompatibilities:</p>
<ol>
<li>Start with the latest compiler version and Gtest version.</li>
<li>If that fails, try an older compiler version.</li>
<li>If issues persist, adjust the CMake version.</li>
<li>Still having problems? Try a different Gtest version or the C++ standard.</li>
<li>Repeat this process until you find a working combination.</li>
</ol>
<p>Remember, the goal is to find a stable configuration that allows you to focus on your actual code and tests, rather than wrestling with setup issues.</p>
<p>By being aware of this potential gotcha and knowing how to work around it, you'll save time and frustration in your Compiler Explorer projects.</p>
<h3 id="limitations"><a class="toclink" href="../../using-gtest-with-cmake-in-godbolt/#limitations">Limitations</a></h3>
<p>While using Gtest with CMake in Compiler Explorer is powerful, it's important to be aware of its limitations:</p>
<ol>
<li><strong>Compilation Time Limits</strong>:</li>
<li>CE restricts compilation and runtime to ensure fair usage for all users.</li>
<li>
<p>As projects grow, you may hit these limits more frequently.</p>
</li>
<li>
<p><strong>Inconsistent Compilation Success</strong>:</p>
</li>
<li>Larger projects may compile intermittently, presumably due to server load variations.</li>
<li>
<p>This can make debugging challenging, as failures might not always be due to your code.</p>
</li>
<li>
<p><strong>Limited Testing Scope</strong>:</p>
</li>
<li>You may need to comment out some unit test files in <code>CMakeLists.txt</code> to stay within time limits.</li>
<li>This can lead to unintentional breaking of commented-out tests.</li>
</ol>
<h4 id="workaround-strategy"><a class="toclink" href="../../using-gtest-with-cmake-in-godbolt/#workaround-strategy">Workaround Strategy</a></h4>
<p>To mitigate these limitations:</p>
<ol>
<li><strong>Modular Testing</strong>: Focus on testing specific modules or features at a time.</li>
<li><strong>Regular Full Tests</strong>: Periodically uncomment all tests to ensure overall project health.</li>
<li><strong>Local Backups</strong>: Maintain a local copy of your project for more comprehensive testing.</li>
</ol>
<h3 id="putting-this-to-use"><a class="toclink" href="../../using-gtest-with-cmake-in-godbolt/#putting-this-to-use">Putting This to Use</a></h3>
<p>With this setup, I'm now able to:</p>
<ol>
<li>Finish separating the gtest_ct library into separate files.</li>
<li>Develop more complex projects like my sudoku solver with proper separation of concerns.</li>
<li>Quickly prototype and test ideas without the overhead of local environment setup.</li>
</ol>
<h3 id="conclusion"><a class="toclink" href="../../using-gtest-with-cmake-in-godbolt/#conclusion">Conclusion</a></h3>
<p>Using Gtest with CMake in Compiler Explorer opens up new possibilities for C++ development and testing:</p>
<ol>
<li><strong>Rapid Prototyping</strong>: Quickly set up and test complex, multi-file C++ projects.</li>
<li><strong>Easy Sharing</strong>: Share your work effortlessly with colleagues or the community.</li>
<li><strong>Clean Codebase</strong>: Maintain an organized project structure, even in an online environment.</li>
<li><strong>TDD Power</strong>: Leverage Test-Driven Development without local setup overhead.</li>
</ol>
<p>While there are limitations, the benefits of this approach far outweigh the drawbacks for many use cases, especially for personal projects or when you need a quick, sharable testing setup.</p>
<p>I encourage you to try this setup in your next project. Experiment, iterate, and see how it can enhance your development workflow. Remember, the key to mastering any tool is practice and persistence.</p>
<p>Happy coding, and may your tests always fail and then pass!</p>
<h3 id="further-reading"><a class="toclink" href="../../using-gtest-with-cmake-in-godbolt/#further-reading">Further Reading</a></h3>
<ul>
<li><a href="https://github.com/compiler-explorer/compiler-explorer/wiki">Compiler Explorer Documentation</a></li>
<li><a href="https://github.com/google/googletest/blob/master/docs/primer.md">Google Test Primer</a></li>
<li><a href="https://cmake.org/cmake/help/latest/guide/tutorial/index.html">CMake Tutorial</a></li>
<li><a href="https://isocpp.github.io/CppCoreGuidelines/CppCoreGuidelines#t-testing">C++ Core Guidelines on Testing</a></li>
</ul>
<p>Feel free to reach out if you have any questions or want to share your experiences with this setup. Let's continue to push the boundaries of what's possible in online C++ development!</p>
    
  </div>
</article>
      
        <article class="md-post md-post--excerpt">
  <header class="md-post__header">
    
    <div class="md-post__meta md-meta">
      <ul class="md-meta__list">
        <li class="md-meta__item">
          <time datetime="2024-06-16 00:00:00+00:00">June 16, 2024</time></li>
        
          <li class="md-meta__item">
            in
            
              <a href="../../category/blog/" class="md-meta__link">Blog</a></li>
        
        
          
          <li class="md-meta__item">
            
              1 min read
            
          </li>
        
      </ul>
      
    </div>
  </header>
  <div class="md-post__content md-typeset">
    <h2 id="decision-making-isolation-dmi"><a class="toclink" href="../../decision-making-isolation-dmi/">Decision-Making Isolation (DMI)</a></h2>
<p>Decision-Making Isolation is a design philosophy that emphasizes separating the decision-making in code from the IO (gathering inputs to the decisions and making outputs based on those decisions) and the wiring code (which connects the decision-making and IO). DMI emphasizes <a href="../../decision-making-isolation-dmi/">invariance</a> as a key concept in choosing how to structure code and prioritizes free functions over classes. The goal is to achieve a high level of purity that makes code easy to read, modify, extend, and test.</p>
<p>DMI was <a href="https://schedule.cppnow.org/session/2024/developing-better-code-by-isolating-decisions/">presented at C++Now 2024</a>! The recording of that presentation is expected to be posted to YouTube in the summer of 2024.</p>
<p>This blog is a work in progress, so please check back soon! In the meantime, check out my <a href="../../decision-making-isolation-dmi/">invariance blog</a> in which I explore this key concept.</p>
    
  </div>
</article>
      
        <article class="md-post md-post--excerpt">
  <header class="md-post__header">
    
    <div class="md-post__meta md-meta">
      <ul class="md-meta__list">
        <li class="md-meta__item">
          <time datetime="2024-06-16 00:00:00+00:00">June 16, 2024</time></li>
        
          <li class="md-meta__item">
            in
            
              <a href="../../category/blog/" class="md-meta__link">Blog</a></li>
        
        
          
          <li class="md-meta__item">
            
              8 min read
            
          </li>
        
      </ul>
      
    </div>
  </header>
  <div class="md-post__content md-typeset">
    <h2 id="what-is-invariance"><a class="toclink" href="../../what-is-invariance/">What is Invariance?</a></h2>
<p>The term 'invariant' is one of the linchpins of Decision Making Isolation. It is used in the <a href="https://isocpp.github.io/CppCoreGuidelines">Cpp Core Guidelines</a> as the reason to use a class versus struct. But what does it really mean?</p>
<h3 id="struct-vs-class"><a class="toclink" href="../../what-is-invariance/#struct-vs-class">Struct vs Class</a></h3>
<p>Before we discuss invariance, let's take a look at what else the <a href="https://isocpp.github.io/CppCoreGuidelines">Cpp Core Guidelines</a> say about the difference between a class and struct.</p>
<ul>
<li><a href="http://isocpp.github.io/CppCoreGuidelines/CppCoreGuidelines#c8-use-class-rather-than-struct-if-any-member-is-non-public">C.8</a>: Use <code>class</code> rather than <code>struct</code> if any member is non-public
Reason: Readability. To make it clear that something is being hidden/abstracted. This is a useful <em>convention</em>.</li>
</ul>
<p>While <code>class</code> and <code>struct</code> are relatively equivalent in C++, the Guidelines set the <em>convention</em> that structs are intended to only contain public members. Because all public data members can be directly modified, I believe it can be inferred that structs also shouldn't have public member functions. In the forthcoming <a href="../../decision-making-isolation-dmi/">Decision Making Isolation (DMI) blog</a>, we'll go more into the preference for free functions. For now, we'll assume that structs only have public data members and no functions.</p>
<ul>
<li><a href="https://isocpp.github.io/CppCoreGuidelines/CppCoreGuidelines#c2-use-class-if-the-class-has-an-invariant-use-struct-if-the-data-members-can-vary-independently">C.2</a>: Use <code>class</code> if the class has an invariant; use <code>struct</code> if the data members can vary independently.
Reason:
Readability. Ease of comprehension. The use of class alerts the programmer to the need for an invariant. This is a useful <em>convention</em>.</li>
</ul>
<p>The Guidelines also state the guidance that a class should be used when the data has an invariant. This guidance seems relatively clear-cut for deciding which type of object to use. However, the concept of <em>invariance</em> isn't trivial!</p>
<h3 id="defining-invariance"><a class="toclink" href="../../what-is-invariance/#defining-invariance">Defining Invariance</a></h3>
<p>In <a href="https://isocpp.github.io/CppCoreGuidelines/CppCoreGuidelines#c2-use-class-if-the-class-has-an-invariant-use-struct-if-the-data-members-can-vary-independently">C.2</a>, the Guidelines define invariance as:</p>
<blockquote>
<p>An invariant is a logical condition for the members of an object that a constructor must establish for the public member functions to assume. After the invariant is established (typically by a constructor) every member function can be called for the object. An invariant can be stated informally (e.g., in a comment) or more formally using Expects.</p>
<p>If all data members can vary independently of each other, no invariant is possible.</p>
</blockquote>
<p>I've read this explanation over and over, but it still never quite made sense in those terms. Let's reword and expand this definition of invariance:</p>
<blockquote>
<p><img alt="✨" class="emojione" src="https://cdn.jsdelivr.net/gh/jdecked/twemoji@15.1.0/assets/svg/2728.svg" title=":sparkles:" /> <strong>KEY POINT</strong> <img alt="✨" class="emojione" src="https://cdn.jsdelivr.net/gh/jdecked/twemoji@15.1.0/assets/svg/2728.svg" title=":sparkles:" /></p>
<p>An invariant is a logical condition for the members of an object that can be expected to be true from the time the constructor exits to the time the destructor is called. These logical conditions fall into three categories.</p>
<ul>
<li>A relationship between at least two data members such that all members cannot vary independently.</li>
<li>A guarantee that any function with access to a resource may be called at any time, i.e. implementing RAII.</li>
<li>A property of a data member that must always be true.</li>
</ul>
</blockquote>
<p>A key for me is remembering that an invariance is <strong>a logical condition</strong>.</p>
<p>Let's break down each of these types.</p>
<h3 id="relationships-between-members"><a class="toclink" href="../../what-is-invariance/#relationships-between-members">Relationships Between Members</a></h3>
<p>Here's a simple example.</p>
<p>Consider a simple electrical circuit that is characterized by Ohm's Law:</p>
<blockquote>
<p>volts = current * resistance</p>
</blockquote>
<p>Ohm's law dictates that if you vary any one of the parameters, at least one other must also change. If the voltage increases, either the current or resistance must also increase. If the current decreases, either the resistance will increase or the voltage will decrease. They cannot be changed independently. If we were to code up an object that held these parameters, the parameters couldn't be public members. We'd need to enforce the invariance dictated by Ohm's Law, so then we'd choose to use a class instead of a struct.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-7-1" name="__codelineno-7-1" href="#__codelineno-7-1"></a><span class="k">class</span><span class="w"> </span><span class="nc">SimpleCiruit</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-7-2" name="__codelineno-7-2" href="#__codelineno-7-2"></a><span class="k">public</span><span class="o">:</span>
<a id="__codelineno-7-3" name="__codelineno-7-3" href="#__codelineno-7-3"></a><span class="w">  </span><span class="kt">void</span><span class="w"> </span><span class="n">setResistanceFixedVoltage</span><span class="p">(</span><span class="n">Resistance</span><span class="w"> </span><span class="n">resistance</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-7-4" name="__codelineno-7-4" href="#__codelineno-7-4"></a><span class="w">    </span><span class="n">m_resistance</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">resistance</span><span class="p">;</span>
<a id="__codelineno-7-5" name="__codelineno-7-5" href="#__codelineno-7-5"></a><span class="w">    </span><span class="n">m_amperage</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">m_volts</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="n">m_resistance</span><span class="p">;</span>
<a id="__codelineno-7-6" name="__codelineno-7-6" href="#__codelineno-7-6"></a><span class="w">  </span><span class="p">}</span>
<a id="__codelineno-7-7" name="__codelineno-7-7" href="#__codelineno-7-7"></a><span class="w">  </span><span class="kt">void</span><span class="w"> </span><span class="n">setResistanceFixedCurrent</span><span class="p">(</span><span class="n">Resistance</span><span class="w"> </span><span class="n">resistance</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-7-8" name="__codelineno-7-8" href="#__codelineno-7-8"></a><span class="w">    </span><span class="n">m_resistance</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">resistance</span><span class="p">;</span>
<a id="__codelineno-7-9" name="__codelineno-7-9" href="#__codelineno-7-9"></a><span class="w">    </span><span class="n">m_volts</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">m_amperage</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">m_resistance</span><span class="p">;</span>
<a id="__codelineno-7-10" name="__codelineno-7-10" href="#__codelineno-7-10"></a><span class="w">  </span><span class="p">}</span>
<a id="__codelineno-7-11" name="__codelineno-7-11" href="#__codelineno-7-11"></a><span class="w">  </span><span class="kt">void</span><span class="w"> </span><span class="n">setVoltsFixedCurrent</span><span class="p">(</span><span class="n">Voltage</span><span class="w"> </span><span class="n">volts</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-7-12" name="__codelineno-7-12" href="#__codelineno-7-12"></a><span class="w">    </span><span class="n">m_volts</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">volts</span><span class="p">;</span>
<a id="__codelineno-7-13" name="__codelineno-7-13" href="#__codelineno-7-13"></a><span class="w">    </span><span class="n">m_resistance</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">m_volts</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="n">m_amperage</span><span class="p">;</span>
<a id="__codelineno-7-14" name="__codelineno-7-14" href="#__codelineno-7-14"></a><span class="w">  </span><span class="p">}</span>
<a id="__codelineno-7-15" name="__codelineno-7-15" href="#__codelineno-7-15"></a><span class="w">  </span><span class="c1">// ...</span>
<a id="__codelineno-7-16" name="__codelineno-7-16" href="#__codelineno-7-16"></a><span class="k">private</span><span class="o">:</span>
<a id="__codelineno-7-17" name="__codelineno-7-17" href="#__codelineno-7-17"></a><span class="w">  </span><span class="n">Voltage</span><span class="w"> </span><span class="n">m_volts</span><span class="p">;</span>
<a id="__codelineno-7-18" name="__codelineno-7-18" href="#__codelineno-7-18"></a><span class="w">  </span><span class="n">Current</span><span class="w"> </span><span class="n">m_amperage</span><span class="p">;</span>
<a id="__codelineno-7-19" name="__codelineno-7-19" href="#__codelineno-7-19"></a><span class="w">  </span><span class="n">Resistance</span><span class="w"> </span><span class="n">m_resistance</span><span class="p">;</span>
<a id="__codelineno-7-20" name="__codelineno-7-20" href="#__codelineno-7-20"></a><span class="p">};</span>
</code></pre></div>
<p>In our code, all the parameters are not necessarily linked in this way, and it's not necessarily the constructor that needs to enforce these relationships. For instance, consider this class:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-8-1" name="__codelineno-8-1" href="#__codelineno-8-1"></a><span class="k">class</span><span class="w"> </span><span class="nc">Light</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-8-2" name="__codelineno-8-2" href="#__codelineno-8-2"></a><span class="k">public</span><span class="o">:</span>
<a id="__codelineno-8-3" name="__codelineno-8-3" href="#__codelineno-8-3"></a><span class="w">  </span><span class="kt">void</span><span class="w"> </span><span class="n">setBrightness</span><span class="p">(</span><span class="kt">uint8_t</span><span class="w"> </span><span class="n">brightness</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-8-4" name="__codelineno-8-4" href="#__codelineno-8-4"></a><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">m_isLightOn</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-8-5" name="__codelineno-8-5" href="#__codelineno-8-5"></a><span class="w">      </span><span class="n">m_brightness</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">brightness</span><span class="p">;</span>
<a id="__codelineno-8-6" name="__codelineno-8-6" href="#__codelineno-8-6"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-8-7" name="__codelineno-8-7" href="#__codelineno-8-7"></a><span class="w">  </span><span class="p">}</span>
<a id="__codelineno-8-8" name="__codelineno-8-8" href="#__codelineno-8-8"></a><span class="w">  </span><span class="kt">void</span><span class="w"> </span><span class="n">flipLightStatus</span><span class="p">()</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="n">m_isLightOn</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">!</span><span class="n">m_isLightOn</span><span class="p">;</span><span class="w"> </span><span class="p">}</span>
<a id="__codelineno-8-9" name="__codelineno-8-9" href="#__codelineno-8-9"></a>
<a id="__codelineno-8-10" name="__codelineno-8-10" href="#__codelineno-8-10"></a><span class="k">private</span><span class="o">:</span>
<a id="__codelineno-8-11" name="__codelineno-8-11" href="#__codelineno-8-11"></a><span class="w">  </span><span class="kt">bool</span><span class="w"> </span><span class="n">m_isLightOn</span><span class="p">;</span>
<a id="__codelineno-8-12" name="__codelineno-8-12" href="#__codelineno-8-12"></a><span class="w">  </span><span class="kt">uint8_t</span><span class="w"> </span><span class="n">m_brightness</span><span class="p">;</span>
<a id="__codelineno-8-13" name="__codelineno-8-13" href="#__codelineno-8-13"></a><span class="p">};</span>
</code></pre></div>
<p>The variable <code>m_isLightOn</code> on can change completely independently from <code>m_brightness</code>, but the reverse is not true. Therefore, these two pieces of data still have an invariance: the brightness will only be updated when the light is on.</p>
<h3 id="guaranteeing-lifetime-of-an-owned-resource-or-raii"><a class="toclink" href="../../what-is-invariance/#guaranteeing-lifetime-of-an-owned-resource-or-raii">Guaranteeing Lifetime of an Owned Resource, or RAII</a></h3>
<p>Resources such as files, sockets, or heap memory need to be managed so that the right steps are made to open/close, connect/close, or allocate/deallocate these assets. It can be dangerous to assume that a caller will properly implement the correct initialization/deinitialization, so the <a href="https://isocpp.github.io/CppCoreGuidelines/CppCoreGuidelines#p8-dont-leak-any-resources">Resource Allocation is Initialization, or RAII,</a> technique was devised to encapsulate the assets. When implementing RAII, the wrapping entity (object) guarantees that any function that can access the underlying resource can be called from the end of the object's constructor until the object's destructor is called.</p>
<p>This guarantee is our second form of invariance.</p>
<p>cppreference.com <a href="https://en.cppreference.com/w/cpp/language/raii">defines Resource Allocation Is Initialization</a> as:</p>
<blockquote>
<p>Resource Acquisition Is Initialization, or RAII, is a C++ programming technique that binds the life cycle of a resource that must be acquired before use (allocated heap memory, thread of execution, open socket, open file, locked mutex, disk space, database connection—anything that exists in limited supply) to the lifetime of an object.</p>
<p>RAII guarantees that the resource is available to any function that may access the object (resource availability is a <a href="https://en.wikipedia.org/wiki/Class_invariant">class invariant</a>, eliminating redundant runtime tests). It also guarantees that all resources are released when the lifetime of their controlling object ends, in reverse order of acquisition.</p>
</blockquote>
<p>Since the goal of RAII is to insulate the resource from direct manipulation, this necessitates that we use a class instead of a struct based on our previous discussion.</p>
<p>There are plenty of resources discussing RAII, but here is classic example of wrapping a file handle:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-9-1" name="__codelineno-9-1" href="#__codelineno-9-1"></a><span class="k">class</span><span class="w"> </span><span class="nc">FileHandler</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-9-2" name="__codelineno-9-2" href="#__codelineno-9-2"></a><span class="k">public</span><span class="o">:</span>
<a id="__codelineno-9-3" name="__codelineno-9-3" href="#__codelineno-9-3"></a><span class="w">    </span><span class="n">FileHandler</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="kt">char</span><span class="o">*</span><span class="w"> </span><span class="n">filename</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-9-4" name="__codelineno-9-4" href="#__codelineno-9-4"></a><span class="w">        </span><span class="c1">//throws an exception on failure</span>
<a id="__codelineno-9-5" name="__codelineno-9-5" href="#__codelineno-9-5"></a><span class="w">        </span><span class="n">m_file</span><span class="p">.</span><span class="n">open</span><span class="p">(</span><span class="n">filename</span><span class="p">);</span>
<a id="__codelineno-9-6" name="__codelineno-9-6" href="#__codelineno-9-6"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-9-7" name="__codelineno-9-7" href="#__codelineno-9-7"></a>
<a id="__codelineno-9-8" name="__codelineno-9-8" href="#__codelineno-9-8"></a><span class="w">    </span><span class="o">~</span><span class="n">FileHandler</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-9-9" name="__codelineno-9-9" href="#__codelineno-9-9"></a><span class="w">        </span><span class="n">m_file</span><span class="p">.</span><span class="n">close</span><span class="p">();</span>
<a id="__codelineno-9-10" name="__codelineno-9-10" href="#__codelineno-9-10"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-9-11" name="__codelineno-9-11" href="#__codelineno-9-11"></a>
<a id="__codelineno-9-12" name="__codelineno-9-12" href="#__codelineno-9-12"></a><span class="w">    </span><span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="w"> </span><span class="n">readLine</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-9-13" name="__codelineno-9-13" href="#__codelineno-9-13"></a><span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">m_file</span><span class="p">.</span><span class="n">readLine</span><span class="p">();</span>
<a id="__codelineno-9-14" name="__codelineno-9-14" href="#__codelineno-9-14"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-9-15" name="__codelineno-9-15" href="#__codelineno-9-15"></a>
<a id="__codelineno-9-16" name="__codelineno-9-16" href="#__codelineno-9-16"></a><span class="k">private</span><span class="o">:</span>
<a id="__codelineno-9-17" name="__codelineno-9-17" href="#__codelineno-9-17"></a><span class="w">    </span><span class="n">File</span><span class="w"> </span><span class="n">m_file</span><span class="p">;</span>
<a id="__codelineno-9-18" name="__codelineno-9-18" href="#__codelineno-9-18"></a><span class="p">};</span>
</code></pre></div>
<p><em>On a side note, I really prefer the term CADRe, or Constructor Acquires-Destructor Releases, as a better name for remembering RAII. It is just easier to remember the meaning. However, it's hard to change a term that might have been around <a href="https://www.stroustrup.com/bs_faq.html#:~:text=I%20held%20back%20the%20introduction%20of%20exceptions%20into%20C%2B%2B%20for%20half%20a%20year%20until%20I%20discovered%20RAII%20(1988).%20RAII%20is%20an%20integral%20and%20necessary%20part%20of%20the%20C%2B%2B%20exception%20mechanism">longer than the Super Nintendo</a> (or at least <a href="https://www.cardinalpeak.com/blog/raii-introduction">older than the Nintendo 64</a>, depending on your source).</em></p>
<h3 id="property-of-a-data-member-that-must-be-true"><a class="toclink" href="../../what-is-invariance/#property-of-a-data-member-that-must-be-true">Property of a Data Member that Must Be True</a></h3>
<p>The final type of invariance is similar to the first but isn't a relationship between data members. Instead, some condition of a data member exists that must be enforced unrelated to another data member. Maybe our integer needs to always be even. Perhaps a string can only be a certain length. One of the most common places this is seen is in nontrivial getters or setters for an object that performs some enforcement.</p>
<p>Consider this example:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-10-1" name="__codelineno-10-1" href="#__codelineno-10-1"></a><span class="k">class</span><span class="w"> </span><span class="nc">EvenNumber</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-10-2" name="__codelineno-10-2" href="#__codelineno-10-2"></a><span class="k">public</span><span class="o">:</span>
<a id="__codelineno-10-3" name="__codelineno-10-3" href="#__codelineno-10-3"></a><span class="w">  </span><span class="n">EvenNumber</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="n">setNumber</span><span class="p">(</span><span class="n">i</span><span class="p">);</span><span class="w"> </span><span class="p">}</span>
<a id="__codelineno-10-4" name="__codelineno-10-4" href="#__codelineno-10-4"></a><span class="w">  </span><span class="kt">void</span><span class="w"> </span><span class="n">setNumber</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-10-5" name="__codelineno-10-5" href="#__codelineno-10-5"></a><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">((</span><span class="n">i</span><span class="w"> </span><span class="o">%</span><span class="w"> </span><span class="mi">2</span><span class="p">)</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="mi">0</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"> </span>
<a id="__codelineno-10-6" name="__codelineno-10-6" href="#__codelineno-10-6"></a><span class="w">      </span><span class="k">throw</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">runtime_error</span><span class="p">(</span><span class="s">&quot;Invalid input&quot;</span><span class="p">);</span>
<a id="__codelineno-10-7" name="__codelineno-10-7" href="#__codelineno-10-7"></a><span class="w">    </span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-10-8" name="__codelineno-10-8" href="#__codelineno-10-8"></a><span class="w">      </span><span class="n">m_i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">i</span><span class="p">;</span>
<a id="__codelineno-10-9" name="__codelineno-10-9" href="#__codelineno-10-9"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-10-10" name="__codelineno-10-10" href="#__codelineno-10-10"></a><span class="w">  </span><span class="p">}</span>
<a id="__codelineno-10-11" name="__codelineno-10-11" href="#__codelineno-10-11"></a>
<a id="__codelineno-10-12" name="__codelineno-10-12" href="#__codelineno-10-12"></a><span class="k">private</span><span class="o">:</span>
<a id="__codelineno-10-13" name="__codelineno-10-13" href="#__codelineno-10-13"></a><span class="w">  </span><span class="kt">int</span><span class="w"> </span><span class="n">m_i</span><span class="p">;</span>
<a id="__codelineno-10-14" name="__codelineno-10-14" href="#__codelineno-10-14"></a><span class="p">};</span>
</code></pre></div>
<p>Here, the invariance is a condition between a member and the constant <em>2</em>. </p>
<p>The most common case of this type of invariance is comparisons to a constant or literal, like in this example. However, a similar case occurs when the invariance is a mathematical calculation that must be applied to a member. For instance, the class below stores an angle in radians but must convert the value to be in the range -2π to 2π. This is more involved than simply comparing to a constant, but it's a similar logical assertion that necessitates using a class.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-11-1" name="__codelineno-11-1" href="#__codelineno-11-1"></a><span class="k">class</span><span class="w"> </span><span class="nc">UnitCircleAngle</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-11-2" name="__codelineno-11-2" href="#__codelineno-11-2"></a><span class="k">public</span><span class="o">:</span>
<a id="__codelineno-11-3" name="__codelineno-11-3" href="#__codelineno-11-3"></a><span class="w">    </span><span class="kt">void</span><span class="w"> </span><span class="n">setAngleFromDegrees</span><span class="p">(</span><span class="kt">float</span><span class="w"> </span><span class="n">degrees</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-11-4" name="__codelineno-11-4" href="#__codelineno-11-4"></a><span class="w">        </span><span class="k">auto</span><span class="w"> </span><span class="n">boundedAngleDegrees</span><span class="p">{</span><span class="n">std</span><span class="o">::</span><span class="n">fmodf</span><span class="p">(</span><span class="n">degrees</span><span class="p">,</span><span class="w"> </span><span class="mi">360</span><span class="p">)};</span>
<a id="__codelineno-11-5" name="__codelineno-11-5" href="#__codelineno-11-5"></a><span class="w">        </span><span class="n">m_angle</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">boundedAngleDegrees</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">M_PI</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="mi">180</span><span class="p">;</span>
<a id="__codelineno-11-6" name="__codelineno-11-6" href="#__codelineno-11-6"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-11-7" name="__codelineno-11-7" href="#__codelineno-11-7"></a><span class="k">private</span><span class="o">:</span>
<a id="__codelineno-11-8" name="__codelineno-11-8" href="#__codelineno-11-8"></a><span class="w">    </span><span class="kt">float</span><span class="w"> </span><span class="n">m_angle</span><span class="p">;</span>
<a id="__codelineno-11-9" name="__codelineno-11-9" href="#__codelineno-11-9"></a><span class="p">}</span>
</code></pre></div>
<h3 id="invariant-doesnt-mean-immutability"><a class="toclink" href="../../what-is-invariance/#invariant-doesnt-mean-immutability">'Invariant' Doesn't Mean Immutability</a></h3>
<p>Remember that invariance means a logical condition that must always be true, not that the data cannot change. The term in software for something that cannot change is <em>immutability</em>.</p>
<h3 id="so-why-do-invariants-matter"><a class="toclink" href="../../what-is-invariance/#so-why-do-invariants-matter">So Why Do Invariants Matter?</a></h3>
<p><a href="../../decision-making-isolation-dmi/">DMI</a> uses invariance as one of the key heuristics when determining if a class, a struct, or a free function should be implemented based on <a href="https://isocpp.github.io/CppCoreGuidelines/CppCoreGuidelines#c2-use-class-if-the-class-has-an-invariant-use-struct-if-the-data-members-can-vary-independently">C.2</a> from the Guidelines. In that blog, I discuss more about applying invariance in the Decision Making Isolation philosophy.</p>
<h3 id="complete-cpp-core-guideline-on-invariance"><a class="toclink" href="../../what-is-invariance/#complete-cpp-core-guideline-on-invariance">Complete Cpp Core Guideline on Invariance</a></h3>
<p>With these simple examples in mind, here is what the Guidelines say about when to use a class in <a href="https://isocpp.github.io/CppCoreGuidelines/CppCoreGuidelines#c2-use-class-if-the-class-has-an-invariant-use-struct-if-the-data-members-can-vary-independently">C.2</a>:</p>
<blockquote>
<h4 id="c2-use-class-if-the-class-has-an-invariant-use-struct-if-the-data-members-can-vary-independently"><a class="toclink" href="../../what-is-invariance/#c2-use-class-if-the-class-has-an-invariant-use-struct-if-the-data-members-can-vary-independently">C.2: Use <code>class</code> if the class has an invariant; use <code>struct</code> if the data members can vary independently</a></h4>
<h5 id="reason"><a class="toclink" href="../../what-is-invariance/#reason">Reason</a></h5>
<p>Readability.
Ease of comprehension.
The use of <code>class</code> alerts the programmer to the need for an invariant.
This is a useful convention.</p>
<h5 id="note"><a class="toclink" href="../../what-is-invariance/#note">Note</a></h5>
<p>An invariant is a logical condition for the members of an object that a constructor must establish for the public member functions to assume.
After the invariant is established (typically by a constructor) every member function can be called for the object.
An invariant can be stated informally (e.g., in a comment) or more formally using <code>Expects</code>.</p>
<p>If all data members can vary independently of each other, no invariant is possible.</p>
<h5 id="example"><a class="toclink" href="../../what-is-invariance/#example">Example</a></h5>
<div class="highlight"><pre><span></span><code><a id="__codelineno-12-1" name="__codelineno-12-1" href="#__codelineno-12-1"></a><span class="w">    </span><span class="k">struct</span><span class="w"> </span><span class="nc">Pair</span><span class="w"> </span><span class="p">{</span><span class="w">  </span><span class="c1">// the members can vary independently</span>
<a id="__codelineno-12-2" name="__codelineno-12-2" href="#__codelineno-12-2"></a><span class="w">        </span><span class="n">string</span><span class="w"> </span><span class="n">name</span><span class="p">;</span>
<a id="__codelineno-12-3" name="__codelineno-12-3" href="#__codelineno-12-3"></a><span class="w">        </span><span class="kt">int</span><span class="w"> </span><span class="n">volume</span><span class="p">;</span>
<a id="__codelineno-12-4" name="__codelineno-12-4" href="#__codelineno-12-4"></a><span class="w">    </span><span class="p">};</span>
</code></pre></div>
<p>but:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-13-1" name="__codelineno-13-1" href="#__codelineno-13-1"></a><span class="w">    </span><span class="k">class</span><span class="w"> </span><span class="nc">Date</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-13-2" name="__codelineno-13-2" href="#__codelineno-13-2"></a><span class="w">    </span><span class="k">public</span><span class="o">:</span>
<a id="__codelineno-13-3" name="__codelineno-13-3" href="#__codelineno-13-3"></a><span class="w">        </span><span class="c1">// validate that {yy, mm, dd} is a valid date and initialize</span>
<a id="__codelineno-13-4" name="__codelineno-13-4" href="#__codelineno-13-4"></a><span class="w">        </span><span class="n">Date</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">yy</span><span class="p">,</span><span class="w"> </span><span class="n">Month</span><span class="w"> </span><span class="n">mm</span><span class="p">,</span><span class="w"> </span><span class="kt">char</span><span class="w"> </span><span class="n">dd</span><span class="p">);</span>
<a id="__codelineno-13-5" name="__codelineno-13-5" href="#__codelineno-13-5"></a><span class="w">        </span><span class="c1">// ...</span>
<a id="__codelineno-13-6" name="__codelineno-13-6" href="#__codelineno-13-6"></a><span class="w">    </span><span class="k">private</span><span class="o">:</span>
<a id="__codelineno-13-7" name="__codelineno-13-7" href="#__codelineno-13-7"></a><span class="w">        </span><span class="kt">int</span><span class="w"> </span><span class="n">y</span><span class="p">;</span>
<a id="__codelineno-13-8" name="__codelineno-13-8" href="#__codelineno-13-8"></a><span class="w">        </span><span class="n">Month</span><span class="w"> </span><span class="n">m</span><span class="p">;</span>
<a id="__codelineno-13-9" name="__codelineno-13-9" href="#__codelineno-13-9"></a><span class="w">        </span><span class="kt">char</span><span class="w"> </span><span class="n">d</span><span class="p">;</span><span class="w">    </span><span class="c1">// day</span>
<a id="__codelineno-13-10" name="__codelineno-13-10" href="#__codelineno-13-10"></a><span class="w">    </span><span class="p">};</span>
</code></pre></div>
<h5 id="note_1"><a class="toclink" href="../../what-is-invariance/#note_1">Note</a></h5>
<p>If a class has any <code>private</code> data, a user cannot completely initialize an object without the use of a constructor.
Hence, the class definer will provide a constructor and must specify its meaning.
This effectively means the definer needs to define an invariant.</p>
<p><strong>See also</strong>:</p>
<ul>
<li><a href="https://isocpp.github.io/CppCoreGuidelines/CppCoreGuidelines#Rc-class">define a class with private data as <code>class</code></a></li>
<li><a href="https://isocpp.github.io/CppCoreGuidelines/CppCoreGuidelines#Rl-order">Prefer to place the interface first in a class</a></li>
<li><a href="https://isocpp.github.io/CppCoreGuidelines/CppCoreGuidelines#Rc-private">minimize exposure of members</a></li>
<li><a href="https://isocpp.github.io/CppCoreGuidelines/CppCoreGuidelines#Rh-protected">Avoid <code>protected</code> data</a></li>
</ul>
<h5 id="enforcement"><a class="toclink" href="../../what-is-invariance/#enforcement">Enforcement</a></h5>
<p>Look for <code>struct</code>s with all data private and <code>class</code>es with public members.</p>
</blockquote>
<h3 id="but-what-about-when-my-invariants-or-data-change"><a class="toclink" href="../../what-is-invariance/#but-what-about-when-my-invariants-or-data-change">But what about when my invariants or data change?</a></h3>
<p>One potential critique of this guidance for choosing a struct versus a class is that public member functions provide an interface that isolates the private data members from the users of that object. If I have a class with a getter, I can change the type of that private data without modifying calls to the getter as long as the return type remains the same. If a struct is used and the data members are manipulated directly, any change to the types of those data members impacts the struct's users. Additionally, if a struct is used and we need to introduce an invariance (which would necessitate private data and therefore a switch from a struct to a class), then we'll also have to modify all the users. Using a class is less likely to cause the callers of its member functions to change.</p>
<p>I agree that this is definitely a tradeoff. I think a couple of things can serve to minimize the impact of these scenarios. First, <a href="../../decision-making-isolation-dmi/">DMI</a> gives guidance that keeps the scope of data small, meaning that the scope of updates when objects change will also be small. Second, changing from setting a variable directly to calling a getter or setter when a new invariance is introduced is a minor refactor. Third, the placement of data is often just a best guess at first, so the location, type, etc. of data is likely to change over time anyway. The setter/getter interface is also fluid early in development. Modern IDEs significantly simplify these types of refactors, and the introduction of AI will only continue this trend.</p>
<h3 id="conclusion"><a class="toclink" href="../../what-is-invariance/#conclusion">Conclusion</a></h3>
<p>Invariance is an important concept that can serve as guidance in designing and implementing code. It's integral to <a href="../../decision-making-isolation-dmi/">Decision Making Isolation</a>, so be on the lookout for that future blog to learn more about how invariance is applied in DMI to fulfill the Single Responsibility and Open-Closed Principles!</p>
    
  </div>
</article>
      
      
        
          



<nav class="md-pagination">
  
</nav>
        
      
    </div>
  </div>

          
  <script>var tabs=__md_get("__tabs");if(Array.isArray(tabs))e:for(var set of document.querySelectorAll(".tabbed-set")){var labels=set.querySelector(".tabbed-labels");for(var tab of tabs)for(var label of labels.getElementsByTagName("label"))if(label.innerText.trim()===tab){var input=document.getElementById(label.htmlFor);input.checked=!0;continue e}}</script>

<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
          <button type="button" class="md-top md-icon" data-md-component="top" hidden>
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8z"/></svg>
  Back to top
</button>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      &copy; 2024 <a href="https://github.com/mokyen" target="_blank" rel="noopener">Michael Okyen</a>

    </div>
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
        <div class="md-social">
  
    
    
    
    
      
      
    
    <a href="https://github.com/mokyen" target="_blank" rel="noopener" title="github.com" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.7.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8M97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg>
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    <script id="__config" type="application/json">{"base": "../../..", "features": ["navigation.tabs", "navigation.sections", "toc.integrate", "navigation.top", "search.suggest", "search.highlight", "content.tabs.link", "content.code.annotation", "content.code.copy"], "search": "../../../assets/javascripts/workers/search.6ce7567c.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="../../../assets/javascripts/bundle.88dd0f4e.min.js"></script>
      
        <script src="https://giscus.app/client.js"></script>
      
    
  </body>
</html>